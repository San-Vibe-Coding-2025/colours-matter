<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cividis Theme Engine - API Documentation</title>
    
    <!-- Include Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Include the Cividis Theme CSS -->
    <link rel="stylesheet" href="cividis-theme.css">
    
    <!-- Include Prism.js for syntax highlighting -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    
    <style>
        /* Custom documentation styles */
        .docs-container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .docs-sidebar {
            background: var(--theme-surface);
            border-right: 2px solid var(--theme-border);
            position: sticky;
            top: 0;
            height: 100vh;
            overflow-y: auto;
        }
        
        .docs-content {
            padding: 2rem;
            background: var(--theme-background);
        }
        
        .endpoint-card {
            background: var(--theme-surface);
            border: 2px solid var(--theme-border);
            border-radius: var(--theme-border-radius-lg);
            padding: 1.5rem;
            margin-bottom: 2rem;
            box-shadow: var(--theme-shadow);
        }
        
        .method-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
        }
        
        .method-get { background: var(--theme-success); color: white; }
        .method-post { background: var(--theme-info); color: white; }
        .method-put { background: var(--theme-warning); color: var(--theme-text); }
        .method-delete { background: var(--theme-primary); color: white; }
        
        .response-example {
            background: #1a1a1a;
            color: #f8f8f2;
            border-radius: 8px;
            padding: 1rem;
            overflow-x: auto;
            margin: 1rem 0;
        }
        
        .nav-link {
            display: block;
            padding: 0.5rem 1rem;
            color: var(--theme-text);
            text-decoration: none;
            border-radius: 4px;
            margin-bottom: 0.25rem;
            transition: all 0.2s ease;
        }
        
        .nav-link:hover {
            background: var(--theme-primary);
            color: white;
        }
        
        .nav-link.active {
            background: var(--theme-accent);
            color: var(--theme-text);
            font-weight: 600;
        }
        
        .section-title {
            color: var(--theme-primary);
            border-bottom: 2px solid var(--theme-accent);
            padding-bottom: 0.5rem;
            margin-bottom: 2rem;
        }
        
        .parameter-table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
        }
        
        .parameter-table th,
        .parameter-table td {
            border: 1px solid var(--theme-border);
            padding: 0.75rem;
            text-align: left;
        }
        
        .parameter-table th {
            background: var(--theme-surface);
            color: var(--theme-primary);
            font-weight: 600;
        }
        
        .required-badge {
            background: var(--theme-primary);
            color: white;
            padding: 2px 6px;
            border-radius: 3px;
            font-size: 10px;
            font-weight: 600;
        }
        
        .optional-badge {
            background: var(--theme-secondary);
            color: white;
            padding: 2px 6px;
            border-radius: 3px;
            font-size: 10px;
            font-weight: 600;
        }
        
        .back-button {
            position: fixed;
            top: 1rem;
            left: 1rem;
            background: var(--theme-primary);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: var(--theme-border-radius);
            text-decoration: none;
            font-weight: 600;
            box-shadow: var(--theme-shadow);
            z-index: 1000;
            transition: all 0.2s ease;
        }
        
        .back-button:hover {
            background: var(--theme-accent);
            color: var(--theme-text);
            transform: translateY(-2px);
        }
        
        code:not(.language-javascript):not(.language-json):not(.language-bash) {
            background: var(--theme-surface);
            color: var(--theme-primary);
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 0.9em;
        }
        
        .toggle-demo {
            background: linear-gradient(135deg, var(--theme-primary), var(--theme-accent));
            padding: 2rem;
            border-radius: var(--theme-border-radius-lg);
            color: white;
            text-align: center;
            margin: 2rem 0;
        }
        
        .toggle-button {
            background: white;
            color: var(--theme-primary);
            border: none;
            padding: 12px 24px;
            border-radius: var(--theme-border-radius);
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            margin-top: 1rem;
        }
        
        .toggle-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }
    </style>
</head>
<body class="bg-theme-background text-theme min-h-screen">
    <!-- Back button -->
    <a href="index.html" class="back-button">‚Üê Back to Home</a>

    <div class="docs-container">
        <div class="grid grid-cols-12 min-h-screen">
            <!-- Sidebar Navigation -->
            <div class="col-span-3 docs-sidebar">
                <div class="p-6">
                    <h2 class="text-xl font-bold mb-4" style="color: var(--theme-primary);">
                        API Documentation
                    </h2>
                    <nav>
                        <a href="#overview" class="nav-link">Overview</a>
                        <a href="#quick-start" class="nav-link">Quick Start</a>
                        <a href="#installation" class="nav-link">Installation</a>
                        <a href="#configuration" class="nav-link">Configuration</a>
                        <a href="#api-endpoints" class="nav-link">API Endpoints</a>
                        <a href="#theme-engine" class="nav-link">Theme Engine</a>
                        <a href="#toggle-functionality" class="nav-link">Toggle Functionality</a>
                        <a href="#css-variables" class="nav-link">CSS Variables</a>
                        <a href="#examples" class="nav-link">Code Examples</a>
                        <a href="#troubleshooting" class="nav-link">Troubleshooting</a>
                    </nav>
                </div>
            </div>
            
            <!-- Main Content -->
            <div class="col-span-9 docs-content">
                <!-- Overview Section -->
                <section id="overview">
                    <h1 class="section-title text-4xl font-bold">
                        Cividis Theme Engine API Documentation
                    </h1>
                    <p class="text-lg mb-6" style="color: var(--theme-text-muted);">
                        A comprehensive REST API and JavaScript library for implementing scientifically-designed, 
                        colorblind-accessible themes using the Cividis color palette.
                    </p>
                    
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                        <div class="endpoint-card text-center">
                            <div style="color: var(--theme-primary);" class="text-2xl font-bold">üé®</div>
                            <h3 class="font-bold mt-2" style="color: var(--theme-primary);">Dynamic Theming</h3>
                            <p class="text-sm mt-1" style="color: var(--theme-text-muted);">
                                Real-time color scheme application
                            </p>
                        </div>
                        <div class="endpoint-card text-center">
                            <div style="color: var(--theme-success);" class="text-2xl font-bold">‚ôø</div>
                            <h3 class="font-bold mt-2" style="color: var(--theme-success);">Accessible</h3>
                            <p class="text-sm mt-1" style="color: var(--theme-text-muted);">
                                100% colorblind-friendly palettes
                            </p>
                        </div>
                        <div class="endpoint-card text-center">
                            <div style="color: var(--theme-info);" class="text-2xl font-bold">üîÑ</div>
                            <h3 class="font-bold mt-2" style="color: var(--theme-info);">Toggle Mode</h3>
                            <p class="text-sm mt-1" style="color: var(--theme-text-muted);">
                                Switch between themes instantly
                            </p>
                        </div>
                    </div>
                </section>

                <!-- Quick Start Section -->
                <section id="quick-start">
                    <h2 class="section-title text-3xl font-bold">Quick Start</h2>
                    
                    <div class="endpoint-card">
                        <h3 class="text-xl font-bold mb-4" style="color: var(--theme-primary);">1. Include the Theme Engine</h3>
                        <pre class="response-example"><code class="language-html">&lt;!-- Include CSS --&gt;
&lt;link rel="stylesheet" href="cividis-theme.css"&gt;

&lt;!-- Include JavaScript --&gt;
&lt;script src="cividis-theme.js"&gt;&lt;/script&gt;</code></pre>
                    </div>
                    
                    <div class="endpoint-card">
                        <h3 class="text-xl font-bold mb-4" style="color: var(--theme-primary);">2. Use CSS Variables</h3>
                        <pre class="response-example"><code class="language-css">/* Your CSS automatically inherits theme colors */
.my-button {
    background: var(--theme-primary);
    color: white;
    border: 2px solid var(--theme-border);
}

.my-card {
    background: var(--theme-surface);
    box-shadow: var(--theme-shadow);
}</code></pre>
                    </div>
                    
                    <div class="endpoint-card">
                        <h3 class="text-xl font-bold mb-4" style="color: var(--theme-primary);">3. Done! üéâ</h3>
                        <p style="color: var(--theme-text-muted);">
                            The theme engine automatically:
                        </p>
                        <ul class="list-disc list-inside mt-2 space-y-1" style="color: var(--theme-text-muted);">
                            <li>Fetches colors from the API</li>
                            <li>Applies CSS variables to your page</li>
                            <li>Adds a toggle button (optional)</li>
                            <li>Handles errors (no color fallback)</li>
                        </ul>
                    </div>
                </section>

                <!-- Installation Section -->
                <section id="installation">
                    <h2 class="section-title text-3xl font-bold">Installation</h2>
                    
                    <div class="endpoint-card">
                        <h3 class="text-xl font-bold mb-4" style="color: var(--theme-primary);">Method 1: Direct Download</h3>
                        <p class="mb-4" style="color: var(--theme-text-muted);">Download the files and include them in your HTML:</p>
                        <pre class="response-example"><code class="language-html">&lt;head&gt;
    &lt;link rel="stylesheet" href="path/to/cividis-theme.css"&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;!-- Your content --&gt;
    &lt;script src="path/to/cividis-theme.js"&gt;&lt;/script&gt;
&lt;/body&gt;</code></pre>
                    </div>
                    
                    <div class="endpoint-card">
                        <h3 class="text-xl font-bold mb-4" style="color: var(--theme-primary);">Method 2: CDN (Coming Soon)</h3>
                        <pre class="response-example"><code class="language-html">&lt;!-- CDN links will be available soon --&gt;
&lt;link rel="stylesheet" href="https://cdn.cividis.com/v1/cividis-theme.css"&gt;
&lt;script src="https://cdn.cividis.com/v1/cividis-theme.js"&gt;&lt;/script&gt;</code></pre>
                    </div>
                    
                    <div class="endpoint-card">
                        <h3 class="text-xl font-bold mb-4" style="color: var(--theme-primary);">API Server Setup</h3>
                        <p class="mb-4" style="color: var(--theme-text-muted);">To run your own API server:</p>
                        <pre class="response-example"><code class="language-bash"># Clone the repository
git clone https://github.com/your-repo/cividis-theme-engine

# Install dependencies
npm install

# Start the API server
node api-server.js

# Server runs on http://localhost:3001</code></pre>
                    </div>
                </section>

                <!-- Configuration Section -->
                <section id="configuration">
                    <h2 class="section-title text-3xl font-bold">Configuration</h2>
                    
                    <div class="endpoint-card">
                        <h3 class="text-xl font-bold mb-4" style="color: var(--theme-primary);">Basic Configuration</h3>
                        <pre class="response-example"><code class="language-javascript">// Auto-initialized with defaults
// No configuration needed for basic usage

// Or customize initialization:
window.cividisTheme = new CividisTheme({
    apiEndpoint: 'https://colours-matter-nhox10gmh-ana-s-apps-projects.vercel.app/api/theme/cividis',
    debug: true
});</code></pre>
                    </div>
                    
                    <div class="endpoint-card">
                        <h3 class="text-xl font-bold mb-4" style="color: var(--theme-primary);">Advanced Configuration</h3>
                        <pre class="response-example"><code class="language-javascript">window.cividisTheme = new CividisTheme({
    // API Configuration
    apiEndpoint: 'https://colours-matter-nhox10gmh-ana-s-apps-projects.vercel.app/api/theme/cividis',
    retryAttempts: 3,
    retryDelay: 1000,
    
    // CTA Button Configuration
    ctaConfig: {
        text: 'Cividis Theme',
        position: 'header', // 'header', 'top-right', 'bottom-right', 'none'
        gradient: 'linear-gradient(45deg, var(--theme-primary), var(--theme-accent))',
        textColor: '#ffffff'
    },
    
    // Features
    intelligentMapping: true, // Auto-detect and style elements
    debug: false,
    
    // No fallback colors allowed. API is required for color changes.
});</code></pre>
                    </div>
                    
                    <div class="endpoint-card">
                        <h3 class="text-xl font-bold mb-4" style="color: var(--theme-primary);">Configuration Options</h3>
                        <table class="parameter-table">
                            <thead>
                                <tr>
                                    <th>Parameter</th>
                                    <th>Type</th>
                                    <th>Default</th>
                                    <th>Description</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><code>apiEndpoint</code></td>
                                    <td>string</td>
                                    <td>Production API</td>
                                    <td>URL of your theme API endpoint</td>
                                </tr>
                                <tr>
                                    <td><code>debug</code></td>
                                    <td>boolean</td>
                                    <td>false</td>
                                    <td>Enable console logging</td>
                                </tr>
                                <tr>
                                    <td><code>intelligentMapping</code></td>
                                    <td>boolean</td>
                                    <td>true</td>
                                    <td>Auto-detect and style elements</td>
                                </tr>
                                <tr>
                                    <td><code>retryAttempts</code></td>
                                    <td>number</td>
                                    <td>3</td>
                                    <td>Number of API retry attempts</td>
                                </tr>
                                <tr>
                                    <td><code>ctaConfig.position</code></td>
                                    <td>string</td>
                                    <td>'header'</td>
                                    <td>Button placement: 'header', 'top-right', 'bottom-right', 'none'</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- API Endpoints Section -->
                <section id="api-endpoints">
                    <h2 class="section-title text-3xl font-bold">API Endpoints</h2>
                    
                    <div class="endpoint-card">
                        <div class="flex items-center mb-4">
                            <span class="method-badge method-get">GET</span>
                            <code class="ml-3 text-lg">/theme</code>
                        </div>
                        <p class="mb-4" style="color: var(--theme-text-muted);">Get the default Cividis theme colors and styling rules.</p>
                        
                        <h4 class="font-bold mb-2" style="color: var(--theme-primary);">Response Example:</h4>
                        <pre class="response-example"><code class="language-json">{
  "success": true,
  "theme": "Cividis",
  "colors": {
    "primary": "#00204c",
    "secondary": "#7f7c75",
    "accent": "#bbaf71",
    "success": "#0a376d",
    "warning": "#ffe945",
    "info": "#37476b",
    "background": "#ffffff",
    "surface": "#f8f9fa",
    "text": "#1b1b1b",
    "border": "#e0e0e0"
  },
  "styling_rules": {
    "warning_container": {
      "background": "var(--theme-info)",
      "text_color": "#ffffff"
    }
  },
  "meta": {
    "timestamp": "2025-09-25T10:30:00.000Z",
    "version": "1.0.0"
  }
}</code></pre>
                    </div>

                    <div class="endpoint-card">
                        <div class="flex items-center mb-4">
                            <span class="method-badge method-get">GET</span>
                            <code class="ml-3 text-lg">/theme/:themeName</code>
                        </div>
                        <p class="mb-4" style="color: var(--theme-text-muted);">Get a specific theme by name.</p>
                        
                        <h4 class="font-bold mb-2" style="color: var(--theme-primary);">Parameters:</h4>
                        <table class="parameter-table">
                            <thead>
                                <tr><th>Parameter</th><th>Type</th><th>Required</th><th>Description</th></tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><code>themeName</code></td>
                                    <td>string</td>
                                    <td><span class="required-badge">Required</span></td>
                                    <td>Theme name (e.g., 'cividis', 'alternate')</td>
                                </tr>
                            </tbody>
                        </table>
                        
                        <h4 class="font-bold mb-2 mt-4" style="color: var(--theme-primary);">Example Request:</h4>
                        <pre class="response-example"><code class="language-bash">curl https://colours-matter-nhox10gmh-ana-s-apps-projects.vercel.app/api/theme/cividis</code></pre>
                    </div>

                    <div class="endpoint-card">
                        <div class="flex items-center mb-4">
                            <span class="method-badge method-post">POST</span>
                            <code class="ml-3 text-lg">/theme/toggle</code>
                        </div>
                        <p class="mb-4" style="color: var(--theme-text-muted);">Toggle between Cividis and traditional colors. This endpoint maintains state per client.</p>
                        
                        <h4 class="font-bold mb-2" style="color: var(--theme-primary);">Request Body:</h4>
                        <pre class="response-example"><code class="language-json">{
  "clientId": "page-/about" // Optional: unique identifier for this page/user
}</code></pre>
                        
                        <h4 class="font-bold mb-2 mt-4" style="color: var(--theme-primary);">Response (Cividis ON):</h4>
                        <pre class="response-example"><code class="language-json">{
  "success": true,
  "toggled": true,
  "state": "cividis",
  "theme": "Cividis",
  "colors": { /* Cividis colors */ },
  "styling_rules": { /* Styling rules */ },
  "button_text": "Turn Off Cividis",
  "meta": {
    "timestamp": "2025-09-25T10:30:00.000Z",
    "version": "1.0.0",
    "clientId": "page-/about"
  }
}</code></pre>
                        
                        <h4 class="font-bold mb-2 mt-4" style="color: var(--theme-primary);">Response (Traditional ON):</h4>
                        <pre class="response-example"><code class="language-json">{
  "success": true,
  "toggled": false,
  "state": "traditional",
  "colors": {
    "primary": "#dc2626",
    "secondary": "#9333ea",
    "accent": "#059669"
    // ... traditional web colors
  },
  "button_text": "Cividis Theme",
  "meta": {
    "timestamp": "2025-09-25T10:30:00.000Z",
    "version": "1.0.0",
    "clientId": "page-/about"
  }
}</code></pre>
                    </div>

                    <div class="endpoint-card">
                        <div class="flex items-center mb-4">
                            <span class="method-badge method-get">GET</span>
                            <code class="ml-3 text-lg">/themes</code>
                        </div>
                        <p class="mb-4" style="color: var(--theme-text-muted);">Get a list of all available themes.</p>
                        
                        <h4 class="font-bold mb-2" style="color: var(--theme-primary);">Response Example:</h4>
                        <pre class="response-example"><code class="language-json">{
  "success": true,
  "themes": [
    {
      "id": "cividis",
      "name": "Cividis",
      "preview": {
        "primary": "#00204c",
        "secondary": "#7f7c75",
        "accent": "#bbaf71"
      }
    },
    {
      "id": "alternate",
      "name": "Alternate Cividis",
      "preview": {
        "primary": "#7A6B13",
        "secondary": "#A48B0D",
        "accent": "#CFAB0B"
      }
    }
  ],
  "total": 2
}</code></pre>
                    </div>

                    <div class="endpoint-card">
                        <div class="flex items-center mb-4">
                            <span class="method-badge method-get">GET</span>
                            <code class="ml-3 text-lg">/health</code>
                        </div>
                        <p class="mb-4" style="color: var(--theme-text-muted);">Health check endpoint to verify API status.</p>
                        
                        <h4 class="font-bold mb-2" style="color: var(--theme-primary);">Response Example:</h4>
                        <pre class="response-example"><code class="language-json">{
  "success": true,
  "status": "healthy",
  "timestamp": "2025-09-25T10:30:00.000Z",
  "uptime": 3600.45
}</code></pre>
                    </div>
                </section>

                <!-- Toggle Functionality Section -->
                <section id="toggle-functionality">
                    <h2 class="section-title text-3xl font-bold">Toggle Functionality</h2>
                    
                    <div class="toggle-demo">
                        <h3 class="text-xl font-bold mb-4">Interactive Theme Toggle</h3>
                        <p class="mb-4">The toggle button switches between Cividis and traditional colors instantly:</p>
                        <button class="toggle-button" onclick="alert('This is a demo! The real button uses the API to toggle themes.')">
                            Try Toggle Demo
                        </button>
                    </div>
                    
                    <div class="endpoint-card">
                        <h3 class="text-xl font-bold mb-4" style="color: var(--theme-primary);">How Toggle Works</h3>
                        <ol class="list-decimal list-inside space-y-2" style="color: var(--theme-text-muted);">
                            <li>User clicks the "Cividis Theme" button</li>
                            <li>JavaScript calls the <code>/theme/toggle</code> API endpoint</li>
                            <li>API returns either Cividis or traditional colors based on current state</li>
                            <li>Theme engine applies the colors to CSS variables</li>
                            <li>Button text updates to reflect current state</li>
                            <li>Page colors change instantly without reload</li>
                        </ol>
                    </div>
                    
                    <div class="endpoint-card">
                        <h3 class="text-xl font-bold mb-4" style="color: var(--theme-primary);">Manual Toggle Implementation</h3>
                        <pre class="response-example"><code class="language-javascript">// Toggle theme programmatically
async function toggleTheme() {
    try {
        const response = await fetch('/theme/toggle', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ 
                clientId: window.location.pathname 
            })
        });
        
        const result = await response.json();
        
        if (result.success) {
            // Apply colors to CSS variables
            Object.entries(result.colors).forEach(([key, value]) => {
                document.documentElement.style.setProperty(
                    `--theme-${key}`, value
                );
            });
            
            console.log(`Theme toggled to: ${result.state}`);
        }
    } catch (error) {
        console.error('Toggle failed:', error);
    }
}</code></pre>
                    </div>
                    
                    <div class="endpoint-card">
                        <h3 class="text-xl font-bold mb-4" style="color: var(--theme-primary);">Listening to Toggle Events</h3>
                        <pre class="response-example"><code class="language-javascript">// Listen for theme toggle events
window.addEventListener('cividis-theme-toggled', (event) => {
    const { active, state, colors } = event.detail;
    
    console.log('Theme toggled:', {
        active: active,        // true if Cividis is active
        state: state,          // 'cividis' or 'traditional'
        colors: colors         // Color palette object
    });
    
    // Update your UI accordingly
    updateCustomElements(colors);
});</code></pre>
                    </div>
                </section>

                <!-- CSS Variables Section -->
                <section id="css-variables">
                    <h2 class="section-title text-3xl font-bold">CSS Variables</h2>
                    
                    <div class="endpoint-card">
                        <h3 class="text-xl font-bold mb-4" style="color: var(--theme-primary);">Available CSS Variables</h3>
                        <p class="mb-4" style="color: var(--theme-text-muted);">
                            The theme engine automatically creates these CSS variables on the <code>:root</code> element:
                        </p>
                        
                        <table class="parameter-table">
                            <thead>
                                <tr><th>Variable</th><th>Cividis Value</th><th>Traditional Value</th><th>Usage</th></tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><code>--theme-primary</code></td>
                                    <td>#00204c</td>
                                    <td>#dc2626</td>
                                    <td>Main brand color, buttons, links</td>
                                </tr>
                                <tr>
                                    <td><code>--theme-secondary</code></td>
                                    <td>#7f7c75</td>
                                    <td>#9333ea</td>
                                    <td>Secondary elements, accents</td>
                                </tr>
                                <tr>
                                    <td><code>--theme-accent</code></td>
                                    <td>#bbaf71</td>
                                    <td>#059669</td>
                                    <td>Highlights, call-to-actions</td>
                                </tr>
                                <tr>
                                    <td><code>--theme-success</code></td>
                                    <td>#0a376d</td>
                                    <td>#16a34a</td>
                                    <td>Success states, confirmations</td>
                                </tr>
                                <tr>
                                    <td><code>--theme-warning</code></td>
                                    <td>#ffe945</td>
                                    <td>#ea580c</td>
                                    <td>Warnings, alerts</td>
                                </tr>
                                <tr>
                                    <td><code>--theme-info</code></td>
                                    <td>#37476b</td>
                                    <td>#0ea5e9</td>
                                    <td>Information, tooltips</td>
                                </tr>
                                <tr>
                                    <td><code>--theme-background</code></td>
                                    <td>#ffffff</td>
                                    <td>#ffffff</td>
                                    <td>Page background</td>
                                </tr>
                                <tr>
                                    <td><code>--theme-surface</code></td>
                                    <td>#f8f9fa</td>
                                    <td>#f8f9fa</td>
                                    <td>Cards, modals, surfaces</td>
                                </tr>
                                <tr>
                                    <td><code>--theme-text</code></td>
                                    <td>#1b1b1b</td>
                                    <td>#1b1b1b</td>
                                    <td>Primary text color</td>
                                </tr>
                                <tr>
                                    <td><code>--theme-border</code></td>
                                    <td>#e0e0e0</td>
                                    <td>#e0e0e0</td>
                                    <td>Borders, dividers</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="endpoint-card">
                        <h3 class="text-xl font-bold mb-4" style="color: var(--theme-primary);">Pre-defined Utility Variables</h3>
                        <p class="mb-4" style="color: var(--theme-text-muted);">Additional utility variables for common use cases:</p>
                        
                        <pre class="response-example"><code class="language-css">/* Gradients */
--theme-gradient-primary: linear-gradient(135deg, var(--theme-primary), var(--theme-accent));
--theme-gradient-cool: linear-gradient(135deg, var(--theme-info), var(--theme-primary));
--theme-gradient-warm: linear-gradient(135deg, var(--theme-warning), var(--theme-accent));

/* Shadows */
--theme-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
--theme-shadow-lg: 0 4px 12px rgba(0, 0, 0, 0.15);

/* Border Radius */
--theme-border-radius: 8px;
--theme-border-radius-lg: 12px;

/* Transitions */
--theme-transition: all 0.2s ease;</code></pre>
                    </div>
                    
                    <div class="endpoint-card">
                        <h3 class="text-xl font-bold mb-4" style="color: var(--theme-primary);">Using CSS Variables in Your Styles</h3>
                        <pre class="response-example"><code class="language-css">/* Basic usage */
.my-button {
    background: var(--theme-primary);
    color: white;
    border: 2px solid var(--theme-border);
    border-radius: var(--theme-border-radius);
    transition: var(--theme-transition);
}

.my-button:hover {
    background: var(--theme-accent);
    box-shadow: var(--theme-shadow-lg);
}

/* Cards and surfaces */
.my-card {
    background: var(--theme-surface);
    border: 1px solid var(--theme-border);
    border-radius: var(--theme-border-radius-lg);
    box-shadow: var(--theme-shadow);
    color: var(--theme-text);
}

/* Status indicators */
.success-message {
    background: var(--theme-success);
    color: white;
    padding: 1rem;
    border-radius: var(--theme-border-radius);
}

.warning-message {
    background: var(--theme-warning);
    color: var(--theme-text);
    padding: 1rem;
    border-radius: var(--theme-border-radius);
}</code></pre>
                    </div>
                </section>

                <!-- Examples Section -->
                <section id="examples">
                    <h2 class="section-title text-3xl font-bold">Code Examples</h2>
                    
                    <div class="endpoint-card">
                        <h3 class="text-xl font-bold mb-4" style="color: var(--theme-primary);">Complete HTML Example</h3>
                        <pre class="response-example"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
    &lt;title&gt;My Cividis-Themed Website&lt;/title&gt;
    
    &lt;!-- Include Cividis Theme --&gt;
    &lt;link rel="stylesheet" href="cividis-theme.css"&gt;
    
    &lt;style&gt;
        body {
            font-family: system-ui, sans-serif;
            background: var(--theme-background);
            color: var(--theme-text);
            margin: 0;
            padding: 2rem;
        }
        
        .header {
            background: var(--theme-gradient-primary);
            color: white;
            padding: 2rem;
            border-radius: var(--theme-border-radius-lg);
            margin-bottom: 2rem;
        }
        
        .card {
            background: var(--theme-surface);
            border: 2px solid var(--theme-border);
            border-radius: var(--theme-border-radius-lg);
            padding: 1.5rem;
            margin-bottom: 1rem;
            box-shadow: var(--theme-shadow);
        }
        
        .btn {
            background: var(--theme-primary);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: var(--theme-border-radius);
            cursor: pointer;
            transition: var(--theme-transition);
        }
        
        .btn:hover {
            background: var(--theme-accent);
            transform: translateY(-2px);
            box-shadow: var(--theme-shadow-lg);
        }
        
        .success {
            background: var(--theme-success);
            color: white;
            padding: 1rem;
            border-radius: var(--theme-border-radius);
            margin: 1rem 0;
        }
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div class="header"&gt;
        &lt;h1&gt;Welcome to My Website&lt;/h1&gt;
        &lt;p&gt;This website uses scientifically-designed, colorblind-accessible colors.&lt;/p&gt;
    &lt;/div&gt;
    
    &lt;div class="card"&gt;
        &lt;h2&gt;About Our Colors&lt;/h2&gt;
        &lt;p&gt;The Cividis palette ensures visibility for all users, including the 300 million people worldwide with color vision deficiency.&lt;/p&gt;
        &lt;button class="btn"&gt;Learn More&lt;/button&gt;
    &lt;/div&gt;
    
    &lt;div class="success"&gt;
        ‚òëÔ∏è Success: Your theme is now colorblind-accessible!
    &lt;/div&gt;
    
    &lt;!-- Include JavaScript (must be at end of body) --&gt;
    &lt;script src="cividis-theme.js"&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
                    </div>
                    
                    <div class="endpoint-card">
                        <h3 class="text-xl font-bold mb-4" style="color: var(--theme-primary);">Custom Configuration Example</h3>
                        <pre class="response-example"><code class="language-javascript">// Custom configuration with your own API
window.cividisTheme = new CividisTheme({
    // Use your own API endpoint
    apiEndpoint: 'https://my-api.com/cividis-theme',
    
    // Customize the toggle button
    ctaConfig: {
        text: 'Switch to Accessible Colors',
        position: 'top-right',
        gradient: 'linear-gradient(45deg, #00204c, #bbaf71)',
        textColor: '#ffffff'
    },
    
    // Enable debug mode
    debug: true,
    
    // Disable intelligent mapping if needed
    intelligentMapping: false,
    
    // No fallback colors allowed. API is required for color changes.
});

// Listen for events
window.addEventListener('cividis-theme-applied', (event) => {
    console.log('New theme applied:', event.detail.name);
    
    // Update any custom UI elements
    updateCustomComponents(event.detail.colors);
});

window.addEventListener('cividis-theme-toggled', (event) => {
    const { active, state } = event.detail;
    
    // Show user feedback
    showNotification(
        active ? 'Cividis theme activated!' : 'Traditional colors restored',
        active ? 'success' : 'info'
    );
});</code></pre>
                    </div>
                    
                    <div class="endpoint-card">
                        <h3 class="text-xl font-bold mb-4" style="color: var(--theme-primary);">React Integration Example</h3>
                        <pre class="response-example"><code class="language-javascript">import React, { useEffect, useState } from 'react';

function App() {
    const [themeActive, setThemeActive] = useState(false);
    
    useEffect(() => {
        // Initialize Cividis theme
        window.cividisTheme = new CividisTheme({
            apiEndpoint: 'https://colours-matter-nhox10gmh-ana-s-apps-projects.vercel.app/api/theme/cividis',
            ctaConfig: { position: 'none' }, // We'll handle the button ourselves
            debug: true
        });
        
        // Listen for theme changes
        const handleThemeToggle = (event) => {
            setThemeActive(event.detail.active);
        };
        
        window.addEventListener('cividis-theme-toggled', handleThemeToggle);
        
        return () => {
            window.removeEventListener('cividis-theme-toggled', handleThemeToggle);
        };
    }, []);
    
    const toggleTheme = async () => {
        if (window.cividisTheme) {
            await window.cividisTheme.handleCTAClick();
        }
    };
    
    return (
        &lt;div className="app"&gt;
            &lt;header style={{ 
                background: 'var(--theme-primary)', 
                color: 'white',
                padding: '2rem'
            }}&gt;
                &lt;h1&gt;My React App&lt;/h1&gt;
                &lt;button 
                    onClick={toggleTheme}
                    style={{
                        background: 'var(--theme-accent)',
                        color: 'var(--theme-text)',
                        border: 'none',
                        padding: '0.5rem 1rem',
                        borderRadius: '8px',
                        cursor: 'pointer'
                    }}
                &gt;
                    {themeActive ? 'Turn Off Cividis' : 'Cividis Theme'}
                &lt;/button&gt;
            &lt;/header&gt;
            
            &lt;main style={{
                background: 'var(--theme-background)',
                color: 'var(--theme-text)',
                minHeight: '80vh',
                padding: '2rem'
            }}&gt;
                &lt;div style={{
                    background: 'var(--theme-surface)',
                    border: '2px solid var(--theme-border)',
                    borderRadius: '12px',
                    padding: '1.5rem',
                    boxShadow: 'var(--theme-shadow)'
                }}&gt;
                    &lt;h2&gt;Accessible Design&lt;/h2&gt;
                    &lt;p&gt;This content uses CSS variables that automatically update when themes change.&lt;/p&gt;
                    
                    &lt;div style={{
                        background: 'var(--theme-success)',
                        color: 'white',
                        padding: '1rem',
                        borderRadius: '8px',
                        marginTop: '1rem'
                    }}&gt;
                        Status: {themeActive ? 'Cividis Active' : 'Traditional Colors'}
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/main&gt;
        &lt;/div&gt;
    );
}

export default App;</code></pre>
                    </div>
                </section>

                <!-- Troubleshooting Section -->
                <section id="troubleshooting">
                    <h2 class="section-title text-3xl font-bold">Troubleshooting</h2>
                    
                    <div class="endpoint-card">
                        <h3 class="text-xl font-bold mb-4" style="color: var(--theme-primary);">Common Issues</h3>
                        
                        <div class="space-y-6">
                            <div>
                                <h4 class="font-bold mb-2" style="color: var(--theme-info);">‚ùå Colors Not Appearing</h4>
                                <p class="mb-2" style="color: var(--theme-text-muted);"><strong>Problem:</strong> CSS variables not working</p>
                                <p class="mb-2" style="color: var(--theme-text-muted);"><strong>Solution:</strong></p>
                                <ul class="list-disc list-inside ml-4 space-y-1" style="color: var(--theme-text-muted);">
                                    <li>Check that you're using <code>var(--theme-primary)</code> not <code>--theme-primary</code></li>
                                    <li>Ensure the CSS is included before the JavaScript</li>
                                    <li>Check browser console for API errors</li>
                                    <li>Enable debug mode: <code>debug: true</code></li>
                                </ul>
                            </div>
                            
                            <div>
                                <h4 class="font-bold mb-2" style="color: var(--theme-info);">‚ùå Toggle Button Not Appearing</h4>
                                <p class="mb-2" style="color: var(--theme-text-muted);"><strong>Problem:</strong> CTA button not showing up</p>
                                <p class="mb-2" style="color: var(--theme-text-muted);"><strong>Solution:</strong></p>
                                <ul class="list-disc list-inside ml-4 space-y-1" style="color: var(--theme-text-muted);">
                                    <li>Ensure you have a <code>&lt;header&gt;</code> or <code>&lt;nav&gt;</code> element</li>
                                    <li>Try a different position: <code>position: 'top-right'</code></li>
                                    <li>Check if button creation is disabled: <code>position: 'none'</code></li>
                                    <li>Enable debug mode to see console messages</li>
                                </ul>
                            </div>
                            
                            <div>
                                <h4 class="font-bold mb-2" style="color: var(--theme-info);">‚ùå API Errors</h4>
                                <p class="mb-2" style="color: var(--theme-text-muted);"><strong>Problem:</strong> Can't connect to theme API</p>
                                <p class="mb-2" style="color: var(--theme-text-muted);"><strong>Solution:</strong></p>
                                <ul class="list-disc list-inside ml-4 space-y-1" style="color: var(--theme-text-muted);">
                                    <li>Check if your API server is running</li>
                                    <li>Verify CORS settings on your server</li>
                                    <li>Use the health endpoint: <code>GET /health</code></li>
                                    <li><b>No fallback colors will be used. API is required for color changes.</b></li>
                                </ul>
                            </div>
                            
                            <div>
                                <h4 class="font-bold mb-2" style="color: var(--theme-info);">‚ùå Toggle Not Working</h4>
                                <p class="mb-2" style="color: var(--theme-text-muted);"><strong>Problem:</strong> Button clicks don't change colors</p>
                                <p class="mb-2" style="color: var(--theme-text-muted);"><strong>Solution:</strong></p>
                                <ul class="list-disc list-inside ml-4 space-y-1" style="color: var(--theme-text-muted);">
                                    <li>Check that the <code>/theme/toggle</code> endpoint is working</li>
                                    <li>Ensure the API server supports POST requests</li>
                                    <li>Check browser network tab for 400/500 errors</li>
                                    <li>Verify the button is using the correct event handler</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    
                    <div class="endpoint-card">
                        <h3 class="text-xl font-bold mb-4" style="color: var(--theme-primary);">Debug Mode</h3>
                        <p class="mb-4" style="color: var(--theme-text-muted);">Enable debug mode to get detailed console logging:</p>
                        <pre class="response-example"><code class="language-javascript">window.cividisTheme = new CividisTheme({
    debug: true, // Enable detailed logging
    apiEndpoint: 'your-api-endpoint'
});

// You'll see console messages like:
// "üé® Cividis Theme: Initializing..."
// "üé® Cividis Theme: Fetching from API..."
// "üé® Cividis Theme: Theme applied successfully"
// "üé® Cividis Theme: CTA button created and inserted"</code></pre>
                    </div>
                    
                    <div class="endpoint-card">
                        <h3 class="text-xl font-bold mb-4" style="color: var(--theme-primary);">API Testing</h3>
                        <p class="mb-4" style="color: var(--theme-text-muted);">Test your API endpoints manually:</p>
                        <pre class="response-example"><code class="language-bash"># Test health check
curl https://colours-matter-nhox10gmh-ana-s-apps-projects.vercel.app/health

# Test theme endpoint
curl https://colours-matter-nhox10gmh-ana-s-apps-projects.vercel.app/api/theme/cividis

# Test toggle endpoint
curl -X POST https://colours-matter-nhox10gmh-ana-s-apps-projects.vercel.app/api/theme/toggle \
  -H "Content-Type: application/json" \
  -d '{"clientId": "test"}'</code></pre>
                    </div>
                    
                    <div class="endpoint-card">
                        <h3 class="text-xl font-bold mb-4" style="color: var(--theme-primary);">Browser Support</h3>
                        <p class="mb-4" style="color: var(--theme-text-muted);">CSS variables are supported in:</p>
                        <ul class="list-disc list-inside space-y-1" style="color: var(--theme-text-muted);">
                            <li>‚òëÔ∏è Chrome 49+</li>
                            <li>‚òëÔ∏è Firefox 31+</li>
                            <li>‚òëÔ∏è Safari 9.1+</li>
                            <li>‚òëÔ∏è Edge 15+</li>
                            <li>‚ùå Internet Explorer (not supported)</li>
                        </ul>
                        <p class="mt-4" style="color: var(--theme-text-muted);">
                            For older browsers, browser/CSS variable fallbacks will be used automatically (not for API failure).
                        </p>
                    </div>
                </section>
            </div>
        </div>
    </div>

    <!-- Include the Cividis Theme Engine for this docs page -->
    <script src="cividis-theme.js"></script>
    
    <!-- Configure for documentation page -->
    <script>
        // Disable CTA button on docs page since we're documenting it
        if (window.cividisTheme) {
            window.cividisTheme.updateConfig({
                ctaConfig: { position: 'none' }
            });
        }
        
        // Simple navigation highlighting
        document.addEventListener('DOMContentLoaded', function() {
            const navLinks = document.querySelectorAll('.nav-link');
            const sections = document.querySelectorAll('section[id]');
            
            // Update active navigation on scroll
            function updateActiveNav() {
                const scrollPos = window.scrollY + 100;
                
                sections.forEach(section => {
                    const top = section.offsetTop;
                    const bottom = top + section.offsetHeight;
                    const id = section.getAttribute('id');
                    
                    if (scrollPos >= top && scrollPos < bottom) {
                        navLinks.forEach(link => {
                            link.classList.remove('active');
                            if (link.getAttribute('href') === `#${id}`) {
                                link.classList.add('active');
                            }
                        });
                    }
                });
            }
            
            window.addEventListener('scroll', updateActiveNav);
            updateActiveNav(); // Initial call
            
            // Smooth scrolling for navigation links
            navLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href').substring(1);
                    const targetElement = document.getElementById(targetId);
                    
                    if (targetElement) {
                        targetElement.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
            });
        });
    </script>
</body>
</html>